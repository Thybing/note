# 002

在linux看来，socket与文件没有区别，所以我们甚至可以用文件操作的系统调用来操作socket。

所以这里我们简单的学习一下linux文件操作。

## 文件描述符的分配规则

- 在/proc/\<PID\>/fd目录中，存放着每个进程打开的fd。
注：/proc 是 Linux 系统中的 虚拟文件系统，用于存储进程信息和内核状态。它并不占用磁盘空间，而是由内核动态生成的，主要用于系统监控和调试。

(可以用 ps -ef 列出所有进程。e是显示所有进程，f是显示完整格式。)

- linux进程默认打开了三个fd，0是标准输入，1是标准输出，2是标准错误

- 分配规则：分配最小的未分配的文件描述符

- 数量限制：单个进程中创建的fd数量有限制。可以用ulimit -a来查看当前shell进程的资源限制。（从shell中fork exec的程序会继承这些限制，所以用ulimit查看的结果也适用从这个shell启动的进程）

## 文件相关常见的系统调用

open()
close()
write()
read()
